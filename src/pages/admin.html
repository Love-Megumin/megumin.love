<!DOCTYPE HTML>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<!-- OpenGraph (FB etc)-->
		<meta property="og:title" content="Megumin is love! - Admin panel">
		<meta property="og:site_name" content="Megumin is love!">
		<meta property="og:url" content="https://megumin.love/admin">
		<meta property="og:description" content="Admin panel for the Fansite about best girl Megumin from the anime called 'Kono Subarashii Sekai ni Shukufuku wo!'">
		<meta property="og:type" content="website">
		<meta property="og:locale" content="en_US">
		<meta property="og:image" content="https://megumin.love/images/backgrounds/bg1.jpg">
		<meta property="og:image:alt" content="megumin.love background 1">
		<!-- Twitter -->
		<meta name="twitter:card" content="summary">
		<meta name="twitter:title" content="Megumin is love! - Admin panel">
		<meta name="twitter:description" content="Admin panel for the Fansite about best girl Megumin from the anime called 'Kono Subarashii Sekai ni Shukufuku wo!'">
		<meta name="twitter:url" content="https://megumin.love/admin">
		<meta name="twitter:image" content="https://megumin.love/images/backgrounds/bg1.jpg">
		<meta name="twitter:image:alt" content="megumin.love background 1">
		<!-- General meta tags -->
		<meta name="keywords" content="megumin, love, konosuba, best girl, best, girl, anime, admin, history">
		<meta name="description" content="Admin panel for the Fansite about best girl Megumin from the anime called 'Kono Subarashii Sekai ni Shukufuku wo!'">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="canonical" href="https://megumin.love/admin">
		<meta name="robots" content="noindex">
		<title>Megumin is love! - Admin panel of megumin.love </title>
		<!-- Favicons -->
		<link rel="apple-touch-icon" href="/images/favicons/apple-touch-icon.png" sizes="180x180">
		<link rel="icon" type="image/png" href="/images/favicons/favicon-32x32.png" sizes="32x32">
		<link rel="icon" type="image/png" href="/images/favicons/favicon-16x16.png" sizes="16x16">
		<link rel="manifest" href="/images/favicons/manifest.json">
		<link rel="mask-icon" href="/images/favicons/safari-pinned-tab.svg" color="#ed8194">
		<link rel="shortcut icon" href="/images/favicons/favicon.ico">
		<meta name="msapplication-config" content="/images/favicons/browserconfig.xml">
		<meta name="msapplication-TileColor" content="#da532c">
		<meta name="msapplication-TileImage" content="/images/favicons/images/favicons/mstile-144x144.png">
		<meta name="theme-color" content="#ed8194">

		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Courgette|Open+Sans">
		<link rel="stylesheet" href="/css/style_template.min.css">
		<link rel="stylesheet" href="/css/admin.min.css">
	</head>
	<body>
		<div id="notification-wrapper">
			<p id="notification"></p>
		</div>

		<div id="container">
			<div id="backlink-top">
				<a class="backlink-anchor" href="/">Back</a>
			</div>
			<button id="logout">Logout</button>
			<h1 class="titles">megumin.love Admin Panel</h1>
			<!-- TODO: Clean up naming scheme for all IDs across all files (no camelcasing) -->
			<div class="panel" id="soundPanel">
				<div class="sub-panel" id="soundUpload">
					<h2 class="titles">Upload sounds</h2>
					<form id="soundUpload-form" enctype="multipart/form-data" method="post">
						<input type="file" name="file" accept="audio/mp3" required>
						<input type="text" name="filename" placeholder="Sound filename" required>
						<input type="text" name="displayname" placeholder="Sound displayname">
						<input type="text" name="source" placeholder="Sound source">
						<input type="text" name="count" placeholder="Sound click count">
						<select name="theme" id="soundUpload-theme-select">
							<!-- Automatically generated -->
						</select>
						<input type="submit" value="Upload sound">
					</form>
				</div>
				<div class="sub-panel" id="soundModify">
					<h2 class="titles">Modify sounds</h2>
					<form id="soundModify-form" method="post">
						<select name="id" id="soundModify-id-select" required>
							<!-- Automatically generated -->
						</select>
						<input type="text" name="filename" placeholder="New filename">
						<input type="text" name="displayname" placeholder="New displayname">
						<input type="text" name="source" placeholder="New source">
						<input type="text" name="count" placeholder="New click count">
						<select name="theme" id="soundModify-theme-select">
							<!-- Automatically generated -->
						</select>
						<input type="submit" value="Modify sound">
					</form>
				</div>
				<div class="sub-panel" id="soundDelete">
					<h2 class="titles">Delete sounds</h2>
					<form id="soundDelete-form" method="post">
						<select name="id" id="soundDelete-id-select" required>
							<!-- Automatically generated -->
						</select>
						<div id="soundDelete-confirm-wrapper">
							<label for="soundDelete-confirmation">
								<input type="checkbox" name="soundDelete-confirmation" required>
								Confirm deletion
							</label>
						</div>
						<input type="submit" value="Delete sound">
					</form>
				</div>

				<p class="response" id="soundResponse"></p>
			</div>

			<div class="panel" id="milestonePanel">
				<div class="sub-panel" id="milestoneAdd">
					<h2 class="titles">Add milestones</h2>
					<form id="milestoneAdd-form" method="post">
						<input type="text" name="count" placeholder="Milestone click count" required>
						<input type="text" name="reached" placeholder="Milestone reached status">
						<input type="text" name="timestamp" placeholder="Milestone timestamp (Unix)">
						<select name="sound_id" id="milestoneAdd-sound_id-select">
							<!-- Automatically generated -->
						</select>
						<input type="submit" value="Add milestone">
					</form>
				</div>
				<div class="sub-panel" id="milestoneModify">
					<h2 class="titles">Modify milestones</h2>
					<form id="milestoneModify-form" method="post">
						<select name="id" id="milestoneModify-id-select" required>
							<!-- Automatically generated -->
						</select>
						<input type="text" name="count" placeholder="New milestone click count">
						<input type="text" name="reached" placeholder="New milestone reached status">
						<input type="text" name="timestamp" placeholder="New milestone timestamp">
						<select name="sound_id" id="milestoneModify-sound_id-select">
							<!-- Automatically generated -->
						</select>
						<input type="submit" value="Modify milestone">
					</form>
				</div>
				<div class="sub-panel" id="milestoneDelete">
					<h2 class="titles">Delete milestones</h2>
					<form id="milestoneDelete-form" method="post">
						<select name="filename" id="milestoneDelete-id-select">
							<!-- Automatically generated -->
						</select>
						<div id="milestoneDelete-confirm-wrapper">
							<label for="milestoneDelete-confirmation">
								<input type="checkbox" name="milestoneDelete-confirmation" required>
								Confirm deletion
							</label>
						</div>
						<input type="submit" value="Delete milestone">
					</form>
				</div>

				<p class="response" id="milestoneResponse"></p>
			</div>

			<!-- TODO: Finish frontend panel for config -->
			<div class="panel" id="config-panel">
				<div class="sub-panel" id="update-frequency">
					<h2 class="titles">Database update frequency</h2>
					<p id="update-frequency-current">Loading...</p>
					<form id="update-frequency-form" method="post">
						<input type="number" name="frequency" placeholder="Frequency in minutes (1-60)" required min="1" max="60">
						<input type="submit" value="Change frequency">
					</form>
				</div>

				<div class="sub-panel" id="socket-connections">
					<h2 class="titles">WebSocket connection limit</h2>
					<p id="socket-connections-current">Loading...</p>
					<!-- TODO: Add note about entering -1 to disable -->
					<form id="socket-connections-form" method="post">
						<input type="number" name="limit" placeholder="Connections per IP" required min="-1">
						<input type="submit" value="Change connection limit">
					</form>
				</div>

				<div class="sub-panel" id="click-ratelimit">
					<h2 class="titles">WebSocket requests ratelimit</h2>
					<p class="rate-limit-current">Loading...</p>
					<!-- TODO: Add note about entering -1 to disable -->
					<form id="rate-limit-form" method="post">
						<input type="number" name="ratelimit" placeholder="Requests (clicks) / minute" required min="-1">
						<input type="submit" value="Change click ratelimit">
					</form>
				</div>

				<p class="response" id="config-response"></p>
			</div>

			<div class="panel" id="data-panel">
				<div class="sub-panel" id="main-count-interaction">
					<h2 class="titles">Main count interactions</h2>
					<button id="reload-count-button">
						Reload main count from db
					</button>
					<button id="save-count-button">
						Save main count to db
					</button>
				</div>

				<div class="sub-panel" id="statistics-interaction">
					<h2 class="titles">Statistics interactions</h2>
					<button id="reload-statistics-button">
						Reload statistics from db
					</button>
					<button id="save-statistics-button">
						Save statistics to db
					</button>
				</div>

				<div class="sub-panel" id="milestones-interaction">
					<h2 class="titles">Milestone interactions</h2>
					<button id="reload-milestones-button">
						Reload milestones from db
					</button>
					<button id="save-milestones-button">
						Save milestones to db
					</button>
				</div>

				<p class="response" id="data-response"></p>
			</div>

			<div id="backlink-bottom">
				<a class="backlink-anchor" href="/">Back</a>
			</div>
		</div>

		<div id="megu-sidebar">
			<img id="sidebar-vector" src="/images/vectors/megumin_sidebar.svg" alt="Sidebar graphic">
			<div id="sidebar-content">
				<h1>Megumin Squad assemble!</h1>
				<h2>Be sure to also visit the following Sites:</h2>
				<ul>
					<li>The <a href="https://github.com/robflop/megumin.love">megumin.love GitHub repository</a></li>
					<li>The <a href="https://github.com/robflop/megumin.love/wiki/API">megumin.love developer API</a></li>
					<li>The <a href="https://discord.gg/v3fghcV">r/Megumin Discord</a> and <a href="https://www.reddit.com/r/Megumin/">Subreddit</a></li>
					<li>The <a href="https://discord.gg/wtQ9ynu">r/Konosuba Discord</a> and <a href="https://www.reddit.com/r/Konosuba/">Subreddit</a></li>
				</ul>
				<hr>
				<p>
					Have Suggestions, found a bug or want me to do your taxes? Shoot me a message on
					<a href="https://www.reddit.com/message/compose/?to=robflop&amp;subject=megumin.love"> Reddit</a>,
					<a rel="me" href="https://misskey.io/@robflop"> the Fediverse</a> or via
					<a href="mailto:contact(emailsymbol)robflop(dotto)me?subject=megumin.love"> E-Mail</a> (preferred)!
				</p>
				<hr>
				<form>
					<div>
						<label for="bg-select">Background selection:</label>
						<select name="bg-select" id="bg-select">
							<!-- Options are auto-generated -->
						</select>
						<p>(You may need to refresh the page)</p>
					</div>
					<hr>
					<div>
						<label for="prefer-seasonals-toggle">Prefer seasonals BGs over selection?:</label>
						<input name="prefer-seasonals-toggle" id="prefer-seasonals-toggle" type="checkbox">
						<p>(Prioritize seasonal background over user-selected background)</p>
					</div>
					<hr>
					<div>
						<label for="crazymode-toggle">Enable Crazy Mode?:</label>
						<input name="crazymode-toggle" id="crazymode-toggle" type="checkbox">
						<p>(Play sound when others click any button)</p>
						<p id="crazymode-warning">
							Use at own risk of extreme loudness and
							possible browser crashes if someone is
							spamming on the main page / soundboard.
						</p>
					</div>
				</form>
			</div>
		</div>
		<footer>
			<p>Created and maintained by robflop. <a href="/credits">Full Credits here.</a></p>
		</footer>

		<script src="/js/extras.min.js"></script>
		<script src="/js/admin.min.js"></script>
	</body>
</html>